<!DOCTYPE html>
<html>
<head><meta name="generator" content="Hexo 3.8.0">
  <meta charset="utf-8">
  

  
  <title>chuck1 | 失乐园</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="Build/Install Instructions 如是直接安装（win）可以忽略上面的。*  The ChucK Tutorial *   This tutorial(个别指导) was written for the command line version of ChucK (currently the most stable(稳定的) and widely supported). O">
<meta name="keywords" content="ChucK">
<meta property="og:type" content="article">
<meta property="og:title" content="chuck1">
<meta property="og:url" content="https://plart.pw/2018/02/15/langs/chuck/chuck1/index.html">
<meta property="og:site_name" content="失乐园">
<meta property="og:description" content="Build/Install Instructions 如是直接安装（win）可以忽略上面的。*  The ChucK Tutorial *   This tutorial(个别指导) was written for the command line version of ChucK (currently the most stable(稳定的) and widely supported). O">
<meta property="og:locale" content="zh-CN">
<meta property="og:updated_time" content="2018-07-13T12:45:54.534Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="chuck1">
<meta name="twitter:description" content="Build/Install Instructions 如是直接安装（win）可以忽略上面的。*  The ChucK Tutorial *   This tutorial(个别指导) was written for the command line version of ChucK (currently the most stable(稳定的) and widely supported). O">
  
    <link rel="alternate" href="/atom.xml" title="失乐园" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  <link rel="stylesheet" href="/css/style.css">
</head>
</html>
<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">失乐园</a>
      </h1>
      
        <h2 id="subtitle-wrap">
          <a href="/" id="subtitle">代码与机器</a>
        </h2>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="搜索"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="https://plart.pw"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main"><article id="post-langs/chuck/chuck1" class="article article-type-post" itemscope="" itemprop="blogPost">
  <div class="article-meta">
    <a href="/2018/02/15/langs/chuck/chuck1/" class="article-date">
  <time datetime="2018-02-15T13:40:10.000Z" itemprop="datePublished">2018-02-15</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/编程与生活/">编程与生活</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      chuck1
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <ul>
<li><p><a href="http://chuck.cs.princeton.edu/doc/build/" target="_blank" rel="noopener"> Build/Install Instructions </a><br>如是直接安装（win）可以忽略上面的。*</p>
</li>
<li><p><a href="http://chuck.cs.princeton.edu/doc/learn/tutorial.html" target="_blank" rel="noopener">The ChucK Tutorial </a>*</p>
</li>
</ul>
<p>This tutorial(个别指导) was written for the command line version of ChucK (currently the most stable(稳定的) and widely supported). Other methods of running ChucK includes the miniAudicle (now on all major platforms) and the Audicle (in pre-pre-alpha). <em>The code is the same, but the way to run them differs, depending the ChucK system.</em></p>
<p>…generate a sine wave and send to the speaker…</p>
<p>…connecting audio processing modules (<a href="https://en.wikipedia.org/wiki/Unit_generator" target="_blank" rel="noopener">unit generators</a>) and having them work together to compute the sound.</p>
<pre><code>// connect sine oscillator to D/A convertor (sound card)
SinOsc s =&gt; dac;
</code></pre><p>The above does several things:</p>
<pre><code>(1) it creates a new unit generator of type &apos;SinOsc&apos; (sine oscillator(振荡器)), and store its reference(引用) in variable(变量的) &apos;s&apos;. 
(2) &apos;dac&apos; (D/A convertor(转炉)) is a special *unit generator* (created by the system) which is our abstraction(抽象) for the underlying(潜在的) audio interface(界面). 
(3) we are using the ChucK operator (=&gt;) to ChucK &apos;s&apos; to &apos;dac&apos;. 
</code></pre><p>In ChucK, when one unit generator is ChucKed to another, we connect them. We can think of this line as setting up <em>a data flow from ‘s’</em>, a signal generator, to <em>‘dac’, the sound card/speaker</em>. Collectively(集体的), we will call this a ‘patch’. </p>
<p>…we simply have to “allow time to pass” for data to be computed…time and audio data are both inextricably(密不可分) related in ChucK (as in reality), and separated in the way they are manipulated(操纵).</p>
<p>let’s generate our sine wave and hear it by adding one more line: </p>
<pre><code>// connect sine oscillator to D/A convertor (sound card)
SinOsc s =&gt; dac;

// allow 2 seconds to pass
2::second =&gt; now;
</code></pre><p>Let’s now run this (assuming(假设) you saved the file as ‘foo.ck’):</p>
<pre><code>%&gt; chuck foo.ck
</code></pre><p> For now, we can just take the second line of code to mean “let time pass for 2 seconds (and let audio compute during that time)”. If you want to play it indefinitely(无限制地), we could write a loop:</p>
<pre><code>////////////
//example1//
////////////
// connect sine oscillator to D/A convertor (sound card)
SinOsc s =&gt; dac;

// loop in time
while( true ) {
    2::second =&gt; now;
    //(we used 2::second here, but we could have used any number of 
    //&apos;ms&apos;, &apos;second&apos;, &apos;minute&apos;, &apos;hour&apos;, &apos;day&apos;, and even &apos;week&apos;)
    }
</code></pre><p>In ChucK, this is called a ‘time-loop’ (in fact this is an ‘infinite time loop’).<br><strong>To stop a ongoing ChucK program from the command line, hit (ctrl - c).</strong></p>
<p>Now, let’s try changing the frequency randomly every 100ms:</p>
<pre><code>// make our patch
SinOsc s =&gt; dac;

// time-loop, in which the osc&apos;s frequency is changed every 100 ms
while( true ) {
    100::ms =&gt; now;
    Std.rand2f(30.0, 1000.0) =&gt; s.freq;
    }
</code></pre><p>Two more things to note here. </p>
<pre><code>(1) We are advancing time inside the loop by 100::ms durations. 
(2) A random value between 30.0 and 1000.0 is generated and &apos;assigned&apos; to the oscillator&apos;s frequency, every 100::ms. 
</code></pre><p><em>目前运行的结果是有并不规律的声音产生，这就是那个时刻变形的声波</em></p>
<hr>
<p>Now let’s write another (slightly longer) program: (these files can be found in the examples/ directory, so you don’t have to type them in) </p>
<pre><code>////////////
//example2//
////////////
// impulse(脉冲信号) to filter to dac
//Biquad filter（双二阶滤波器）
Impulse i =&gt; BiQuad f =&gt; dac;
// set the filter&apos;s pole radius( = prad)
.99 =&gt; f.prad;
// set equal gain zero&apos;s
1 =&gt; f.eqzs;//不理解
// initialize float variable
0.0 =&gt; float v;

// infinite time-loop
while( true )
{
    // set the current sample/impulse
    1.0 =&gt; i.next;
    // sweep the filter resonant frequency(共振频率)
    Std.fabs(Math.sin(v)) * 4000.0 =&gt; f.pfreq;
    // increment(增量) v
    v + .1 =&gt; v;
    // advance time
    100::ms =&gt; now;
}
</code></pre><p>Name this moe.ck, and run it:</p>
<pre><code>chuck moe.ck
</code></pre><p>Now, make two copies of moe.ck - larry.ck and curly.ck. Make the following modifications(修改). </p>
<pre><code>1) change larry.ck to advance time by 99::ms (instead of 100::ms). 
2) change curly.ck to advance time by 101::ms (instead of 100::ms). 
3) optionally, change the 4000.0 to something else (like 400.0 for curly).
</code></pre><p>Run all three in parallel:</p>
<pre><code>chuck moe.ck larry.ck curly.ck
</code></pre><p>What you hear (if all goes well) should be ‘phasing’ between moe, larry, and curly, with curly emitting(发出) the lower-frequency pulses(脉冲).</p>
<p>ChucK supports sample-synchronous concurrency(并发性), via the ChucK timing mechanism(机制). Given any number of source files that uses the timing mechanism above, the ChucK VM can use the timing information to automatically(自动地) synchronize(合拍) all of them… Note that each process do not need to know about each other - it only has to deal with time locally. The VM will make sure things happen correctly and globally. </p>
<p>A large collection of pre-made examples have been arranged and provided with this distribution in the /doc/examples directory, and are mirrored <a href="http://chuck.cs.princeton.edu/doc/examples/" target="_blank" rel="noopener">here</a></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://plart.pw/2018/02/15/langs/chuck/chuck1/" data-id="cjognmzro0034zchsua9xz4xs" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/ChucK/">ChucK</a></li></ul>

    </footer>
  </div>
  
    
<nav id="article-nav">
  
    <a href="/2018/02/15/langs/chuck/chuck4/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Newer</strong>
      <div class="article-nav-title">
        
          chuck4
        
      </div>
    </a>
  
  
    <a href="/2018/02/15/langs/chuck/chuck10/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Older</strong>
      <div class="article-nav-title">chuck10</div>
    </a>
  
</nav>

  
</article>

</section>
        
          <aside id="sidebar">
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">分类</h3>
    <div class="widget">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/幻想与现实/">幻想与现实</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/技术与进步/">技术与进步</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/生活与思考/">生活与思考</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/电影与艺术/">电影与艺术</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/编程与生活/">编程与生活</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/记录与总结/">记录与总结</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">标签</h3>
    <div class="widget">
      <ul class="tag-list"><li class="tag-list-item"><a class="tag-list-link" href="/tags/C-C/">C++&C</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/ChucK/">ChucK</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Java/">Java</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Linux/">Linux</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/R/">R</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/css/">css</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/html/">html</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/org-mode/">org-mode</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/python/">python</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/python3/">python3</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/佳片/">佳片</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/学习/">学习</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/工具/">工具</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/开心麻花/">开心麻花</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/影视/">影视</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/总结/">总结</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/数据结构/">数据结构</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/校园/">校园</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/汇编/">汇编</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/爬虫/">爬虫</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/爱情/">爱情</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/琐事/">琐事</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/生活/">生活</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/电影/">电影</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/科幻/">科幻</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/计算机原理/">计算机原理</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/计算机网络/">计算机网络</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/进阶/">进阶</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/通信/">通信</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/随感/">随感</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">标签云</h3>
    <div class="widget tagcloud">
      <a href="/tags/C-C/" style="font-size: 14.29px;">C++&C</a> <a href="/tags/ChucK/" style="font-size: 20px;">ChucK</a> <a href="/tags/Java/" style="font-size: 11.43px;">Java</a> <a href="/tags/Linux/" style="font-size: 10px;">Linux</a> <a href="/tags/R/" style="font-size: 10px;">R</a> <a href="/tags/css/" style="font-size: 10px;">css</a> <a href="/tags/html/" style="font-size: 10px;">html</a> <a href="/tags/org-mode/" style="font-size: 10px;">org-mode</a> <a href="/tags/python/" style="font-size: 18.57px;">python</a> <a href="/tags/python3/" style="font-size: 10px;">python3</a> <a href="/tags/佳片/" style="font-size: 10px;">佳片</a> <a href="/tags/学习/" style="font-size: 17.14px;">学习</a> <a href="/tags/工具/" style="font-size: 11.43px;">工具</a> <a href="/tags/开心麻花/" style="font-size: 10px;">开心麻花</a> <a href="/tags/影视/" style="font-size: 11.43px;">影视</a> <a href="/tags/总结/" style="font-size: 10px;">总结</a> <a href="/tags/数据结构/" style="font-size: 11.43px;">数据结构</a> <a href="/tags/校园/" style="font-size: 10px;">校园</a> <a href="/tags/汇编/" style="font-size: 15.71px;">汇编</a> <a href="/tags/爬虫/" style="font-size: 10px;">爬虫</a> <a href="/tags/爱情/" style="font-size: 10px;">爱情</a> <a href="/tags/琐事/" style="font-size: 10px;">琐事</a> <a href="/tags/生活/" style="font-size: 11.43px;">生活</a> <a href="/tags/电影/" style="font-size: 10px;">电影</a> <a href="/tags/科幻/" style="font-size: 10px;">科幻</a> <a href="/tags/计算机原理/" style="font-size: 12.86px;">计算机原理</a> <a href="/tags/计算机网络/" style="font-size: 10px;">计算机网络</a> <a href="/tags/进阶/" style="font-size: 10px;">进阶</a> <a href="/tags/通信/" style="font-size: 10px;">通信</a> <a href="/tags/随感/" style="font-size: 10px;">随感</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">归档</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/11/">十一月 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/10/">十月 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/09/">九月 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/08/">八月 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/07/">七月 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/06/">六月 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/05/">五月 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/04/">四月 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/03/">三月 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/02/">二月 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/08/">八月 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/07/">七月 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/03/">三月 2017</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">最新文章</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2018/11/14/ceshi/">ceshi</a>
          </li>
        
          <li>
            <a href="/2018/10/25/ee/上网背后的流程/">上网背后的流程</a>
          </li>
        
          <li>
            <a href="/2018/09/15/life/这些衰败的日子/">这些衰败的日子</a>
          </li>
        
          <li>
            <a href="/2018/08/30/life/如懿如意/">如懿，如意</a>
          </li>
        
          <li>
            <a href="/2018/08/05/life/开心麻花几部电影/">开心麻花</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2018 Lart Pang<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  <script src="/fancybox/jquery.fancybox.pack.js"></script>


<script src="/js/script.js"></script>



  </div>
</body>
</html>